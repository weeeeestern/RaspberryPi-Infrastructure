# 모니터링 구성

원격제어를 할 수 있는 환경을 만들었으므로,   
이제 Prometheus 와 Granfana 를 이용하여 시스템 모니터링을 구축해볼 예정이다.  

본격적인 실습에 들어가기 전에 각 서비스의 역할을 알아보자.  

<br>  

## Prometheus
Prometheus는 시스템의 상태나 성능을 주기적으로 수집하여 저장하고, 이를 분석할 수 있도록 해주는 오픈소스 모니터링 시스템이다.    
<br>

### Prometheus 구조  
(이미지 삽입)  
Prometheus 는 일반적인 모니터링 시스템과 데이터 수집 방식과 차이점이 있다.  

**일반적인 모니터링 구조**

- 일반적인 모니터링 구조로는  
중앙 모니터링 서버가 각 대상 서버에 push 요청이나 agent 실행으로 상태 정보를 받는다.  
- 혹은 각 대상 서버가 중앙 서버에 주기적으로 데이터를 push 한다.  

[대상 서버] --> (Push) --> [중앙 서버]

<br>

- Promethrus 는 자기가 주도적으로 각 Exporter에 접속해서 메트릭을 수집한다.
- 대상 서버에 Exporter 만 실행되면 되고, Prometheus가 직접 HTTP 요청을 보내 데이터를 받아간다.  

[Prometheus 서버] --> (Pull 요청) --> [Exporter가 설치된 대상 서버]


Prometheus는 중앙 서버(Prometheus)가 직접 메트릭을 수집하는 Pull 중심 구조라는 점에서 기존 모니터링 시스템과 확실히 다르다.  
이러한 방식은 설정 관리가 단순해지고, 클라우드나 동적 환경에서 유리하며, 시계열 데이터 수집 및 분석에 최적화되어 있다.  
